import os
import time
from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.common.by import By
from selenium.webdriver.chrome.options import Options

# === Configuration ===
chrome_driver_path = "/path/to/chromedriver"  # Replace with the actual path to chromedriver
download_dir = "/path/to/download/folder"     # Replace with your desired download folder

# === Chrome Options ===
chrome_options = Options()
chrome_options.add_experimental_option("prefs", {
    "download.default_directory": download_dir,
    "download.prompt_for_download": False,
    "directory_upgrade": True,
    "safebrowsing.enabled": True
})

# === Start WebDriver ===
service = Service(executable_path=chrome_driver_path)
driver = webdriver.Chrome(service=service, options=chrome_options)

# === Open the Website and Download the File ===
driver.get("https://example.com/file-to-download")  # Replace with actual URL

# Example: click a link or button to download the file
download_button = driver.find_element(By.XPATH, '//a[@href="file-to-download.pdf"]')  # Update selector
download_button.click()

# === Wait for Download to Complete ===
time.sleep(5)  # Adjust time based on file size

# === Close the Browser ===
driver.quit()
